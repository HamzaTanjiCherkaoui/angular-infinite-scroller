{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/infinite-scroller.directive.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.html","webpack:///./src/app/hackernews.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 133;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 133\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {Component, NgModule} from '@angular/core'\nimport {BrowserModule} from '@angular/platform-browser'\nimport { HttpModule } from '@angular/http';\nimport { HackerNewsService } from './hackernews.service'\nimport { InfiniteScrollerDirective } from './infinite-scroller.directive';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = '';\n\n  currentPage: number = 1;\n\n  news: Array<any> = [];\n\n  scrollCallback;\n\n  constructor(private hackerNewsSerivce: HackerNewsService) {\n    this.title = 'Angular Infinite Scroller with RxJS';\n    this.scrollCallback = this.getStories.bind(this);\n   }\n\n  getStories() {\n    return this.hackerNewsSerivce.getLatestStories(this.currentPage).do(this.processData);\n  }\n\n  private processData = (news) => {\n    this.currentPage++;\n    this.news = this.news.concat(news.json());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { HackerNewsService } from './hackernews.service';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport { InfiniteScrollerDirective } from './infinite-scroller.directive';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    InfiniteScrollerDirective\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [HackerNewsService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Directive, AfterViewInit, ElementRef, Input } from '@angular/core';\n\nimport { Observable, Subscription } from 'rxjs/Rx';\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/operator/pairwise';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/exhaustMap';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/startWith';\n\ninterface ScrollPosition {\n  sH: number;\n  sT: number;\n  cH: number;\n};\n\nconst DEFAULT_SCROLL_POSITION: ScrollPosition = {\n  sH: 0,\n  sT: 0,\n  cH: 0\n};\n\n@Directive({\n  selector: '[appInfiniteScroller]'\n})\nexport class InfiniteScrollerDirective implements AfterViewInit {\n\n  private scrollEvent$;\n\n  private userScrolledDown$;\n\n  private requestStream$;\n\n  private requestOnScroll$;\n\n  @Input()\n  scrollCallback;\n\n  @Input()\n  immediateCallback;\n\n  @Input()\n  scrollPercent = 70;\n\n  constructor(private elm: ElementRef) { }\n\n  ngAfterViewInit() {\n\n    this.registerScrollEvent();\n\n    this.streamScrollEvents();\n\n    this.requestCallbackOnScroll();\n\n  }\n\n  private registerScrollEvent() {\n\n    this.scrollEvent$ = Observable.fromEvent(this.elm.nativeElement, 'scroll');\n\n  }\n\n  private streamScrollEvents() {\n    this.userScrolledDown$ = this.scrollEvent$\n      .map((e: any): ScrollPosition => ({\n        sH: e.target.scrollHeight,\n        sT: e.target.scrollTop,\n        cH: e.target.clientHeight\n      }))\n      .pairwise()\n      .filter(positions => this.isUserScrollingDown(positions) && this.isScrollExpectedPercent(positions[1]))\n  }\n\n  private requestCallbackOnScroll() {\n    this.requestOnScroll$ = this.userScrolledDown$;\n\n    if (this.immediateCallback) {\n      this.requestOnScroll$ = this.requestOnScroll$\n        .startWith([DEFAULT_SCROLL_POSITION, DEFAULT_SCROLL_POSITION]);\n    }\n\n    this.requestOnScroll$\n      .exhaustMap(() => {\n        return this.scrollCallback();\n      })\n      .subscribe((data) => { console.log(data) }, (err) => console.log(err));\n\n  }\n\n  private isUserScrollingDown = (positions) => {\n    return positions[0].sT < positions[1].sT;\n  }\n\n  private isScrollExpectedPercent = (position) => {\n    return ((position.sT + position.cH) / position.sH) > (this.scrollPercent / 100);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/infinite-scroller.directive.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#infinite-scroller {\\n  height: 500px;\\n  width: 700px;\\n  border: 1px solid #f5ad7c;\\n  overflow: scroll;\\n  padding: 0;\\n  list-style: none; }\\n  #infinite-scroller li {\\n    padding: 10px 5px;\\n    line-height: 1.5; }\\n    #infinite-scroller li:nth-child(odd) {\\n      background: #ffe8d8; }\\n    #infinite-scroller li:nth-child(even) {\\n      background: #f5ad7c; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = 197\n// module chunks = 1","module.exports = \"<div>\\n  <h2>{{title}}</h2>\\n  <div>\\n    <p>Github Repo: <a href=\\\"https://github.com/ashwin-sureshkumar/angular-infinite-scroller\\\" target=\\\"_blank\\\">Angular Infinite Scroller</a></p>\\n    <p>Blog Post: <a href=\\\"https://medium.com/@Sureshkumar_Ash/angular-2-simple-infinite-scroller-directive-with-rxjs-observables-a989b12d4fb1\\\"> Angular —Simple Infinite scroller directive with RxJS Observables</a></p>\\n  </div>\\n  <ul id=\\\"infinite-scroller\\\" appInfiniteScroller scrollPerecnt=\\\"70\\\" [immediateCallback]=\\\"true\\\" [scrollCallback]=\\\"scrollCallback\\\">\\n    <li *ngFor=\\\"let item of news\\\">{{item.title}}</li>\\n  </ul>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 198\n// module chunks = 1","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n\nconst BASE_URL = 'https://node-hnapi.herokuapp.com';\n\n@Injectable()\nexport class HackerNewsService {\n\n  constructor(private http: Http) { }\n\n  getLatestStories(page: number = 1) {\n    return this.http.get(`${BASE_URL}/news?page=${page}`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/hackernews.service.ts"],"sourceRoot":""}